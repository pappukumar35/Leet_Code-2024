package october;

public class Make_Sum_Divisible_by_P {
     public int minSubarray(int[] nums, int p) {
          long totalSum = 0;
          for (int num : nums) {
               totalSum += num;
          }

          // Find remainder when total sum is divided by p
          int rem = (int) (totalSum % p);
          if (rem == 0)
               return 0; // If remainder is 0, no subarray needs to be removed

          HashMap<Integer, Integer> prefixMod = new HashMap<>();
          prefixMod.put(0, -1); // Initialize to handle full prefix
          long prefixSum = 0;
          int minLength = nums.length;

          for (int i = 0; i < nums.length; ++i) {
               prefixSum += nums[i];
               int currentMod = (int) (prefixSum % p);
               int targetMod = (currentMod - rem + p) % p;

               if (prefixMod.containsKey(targetMod)) {
                    minLength = Math.min(minLength, i - prefixMod.get(targetMod));
               }

               prefixMod.put(currentMod, i);
          }

          return minLength == nums.length ? -1 : minLength;
     }

     public static void main(String[] args) {

     }
}